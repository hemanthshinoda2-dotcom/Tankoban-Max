/* Tankoban Web Browser — Chrome-layout, theme-adaptive */

/* ══════════════════════════════════════════
   Browser view — full-screen overlay
   ══════════════════════════════════════════ */

.webBrowserView {
  position: fixed;
  inset: 0;
  z-index: 20;
  display: flex;
  flex-direction: column;
  background: var(--bg, #1a1a2e);
  color: inherit;
}
.webBrowserView.hidden {
  display: none !important;
}


/* ══════════════════════════════════════════
   Row 1 — Tab strip (Chrome title bar)
   ══════════════════════════════════════════ */

.webTabStrip {
  display: flex;
  align-items: flex-end;
  height: 38px;
  padding: 0 0 0 8px;
  flex-shrink: 0;
  position: relative;
  background: rgba(var(--chrome-rgb), .03);
  border-bottom: 1px solid rgba(var(--chrome-rgb), .08);
}

/* Drag region — entire tab strip is draggable except interactive children */
.webTabStripDrag {
  position: absolute;
  inset: 0;
  -webkit-app-region: drag;
  z-index: 0;
}
.webTabStrip > *:not(.webTabStripDrag) {
  -webkit-app-region: no-drag;
  position: relative;
  z-index: 1;
}

/* Library back button */
.webLibBtn {
  display: flex;
  align-items: center;
  gap: 4px;
  padding: 5px 12px 5px 8px;
  margin-right: 4px;
  border-radius: 8px 8px 0 0;
  border: none;
  background: transparent;
  color: inherit;
  font-size: 12px;
  font-weight: 600;
  cursor: pointer;
  white-space: nowrap;
  flex-shrink: 0;
  opacity: .75;
  transition: opacity .12s, background .12s;
}
.webLibBtn:hover {
  opacity: 1;
  background: rgba(var(--chrome-rgb), .08);
}
.webLibBtn svg {
  width: 12px;
  height: 12px;
  flex-shrink: 0;
}


/* ── Tab bar ── */

.webTabBar {
  display: flex;
  flex: 1;
  min-width: 0;
  gap: 1px;
  align-items: flex-end;
  overflow-x: auto;
  padding: 0 4px;
  scrollbar-width: none;
}
.webTabBar::-webkit-scrollbar {
  display: none;
}

.webTab {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 6px 12px;
  height: 34px;
  min-width: 48px;
  max-width: 200px;
  flex: 0 1 180px;
  border-radius: 8px 8px 0 0;
  cursor: pointer;
  font-size: 12px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  background: rgba(var(--chrome-rgb), .04);
  border: 1px solid transparent;
  border-bottom: none;
  color: inherit;
  user-select: none;
  transition: background .12s;
  position: relative;
}

.webTab.active {
  background: rgba(var(--chrome-rgb), .10);
  border-color: rgba(var(--chrome-rgb), .10);
}
/* Active tab accent line */
.webTab.active::after {
  content: "";
  position: absolute;
  bottom: 0;
  left: 8px;
  right: 8px;
  height: 2px;
  border-radius: 2px 2px 0 0;
  background: var(--vx-accent, rgba(var(--chrome-rgb), .55));
}

.webTab:hover:not(.active) {
  background: rgba(var(--chrome-rgb), .07);
}

.webTabFavicon {
  width: 16px;
  height: 16px;
  border-radius: 3px;
  flex-shrink: 0;
  display: block;
}
.webTabFaviconImg {
  width: 16px;
  height: 16px;
  border-radius: 3px;
  display: block;
}
.webTabFaviconFallback {
  width: 16px;
  height: 16px;
  border-radius: 3px;
  display: block;
  background: rgba(var(--chrome-rgb), .12);
}

.webTabLabel {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  flex: 1;
  min-width: 0;
}

.webTabClose {
  width: 18px;
  height: 18px;
  font-size: 13px;
  line-height: 18px;
  text-align: center;
  cursor: pointer;
  opacity: 0;
  padding: 0;
  border: none;
  background: none;
  border-radius: 50%;
  color: inherit;
  flex-shrink: 0;
  transition: opacity .1s, background .1s;
}
.webTab:hover .webTabClose {
  opacity: .5;
}
.webTabClose:hover {
  opacity: 1 !important;
  background: rgba(var(--chrome-rgb), .12);
}

/* Loading tab — spinner replaces favicon */
.webTab.loading {
  opacity: .88;
}
.webTab.loading::before {
  content: "";
  width: 12px;
  height: 12px;
  border-radius: 999px;
  border: 1.5px solid rgba(var(--chrome-rgb), .25);
  border-top-color: rgba(var(--chrome-rgb), .80);
  display: inline-block;
  flex-shrink: 0;
  animation: webTabSpin 700ms linear infinite;
}
@keyframes webTabSpin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* New tab button */
.webTabAdd {
  width: 28px;
  height: 28px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  font-size: 18px;
  cursor: pointer;
  flex-shrink: 0;
  margin-left: 2px;
  margin-bottom: 3px;
  color: inherit;
  opacity: .5;
  transition: opacity .12s, background .12s;
}
.webTabAdd:hover {
  opacity: 1;
  background: rgba(var(--chrome-rgb), .10);
}

/* Tab drag reorder */
.webTab.dragging {
  opacity: 0.4;
}
.webTab.dragOver {
  border-left: 2px solid var(--vx-accent, rgba(var(--chrome-rgb), .55));
}

/* CHROMIUM_PARITY: Pinned tabs — compact, favicon-only */
.webTab.pinned {
  flex: 0 0 36px;
  min-width: 36px;
  max-width: 36px;
  justify-content: center;
  padding: 0;
}
.webTab.pinned .webTabLabel,
.webTab.pinned .webTabClose { display: none; }
.webTab.pinned + .webTab:not(.pinned) { margin-left: 6px; }

/* Window controls in tab strip inherit from global .winControls/.winCtrl */


/* ══════════════════════════════════════════
   Row 2 — Navigation bar
   ══════════════════════════════════════════ */

.webNavBar {
  display: flex;
  align-items: center;
  gap: 4px;
  padding: 4px 8px;
  height: 40px;
  flex-shrink: 0;
  border-bottom: 1px solid rgba(var(--chrome-rgb), .06);
}

/* Nav buttons (back, forward, reload, home, split) */
.webNavBtn {
  width: 28px;
  height: 28px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  border: none;
  background: transparent;
  color: inherit;
  cursor: pointer;
  padding: 0;
  flex-shrink: 0;
  transition: background .12s;
}
.webNavBtn svg {
  width: 16px;
  height: 16px;
  display: block;
}
.webNavBtn:hover:not(:disabled) {
  background: rgba(var(--chrome-rgb), .08);
}
.webNavBtn:active:not(:disabled) {
  background: rgba(var(--chrome-rgb), .14);
}
.webNavBtn:disabled {
  opacity: 0.3;
  cursor: default;
}
.webNavBtn.active {
  color: var(--vx-accent, rgba(var(--chrome-rgb), .85));
}

/* Omnibox (address bar) */
.webOmni {
  flex: 1;
  min-width: 0;
  display: flex;
  align-items: center;
  gap: 8px;
  height: 32px;
  padding: 0 12px;
  border-radius: 16px;
  background: rgba(var(--chrome-rgb), .06);
  border: 1px solid rgba(var(--chrome-rgb), .06);
  position: relative;
  transition: background .12s, border-color .12s, box-shadow .12s;
}
.webOmni:focus-within {
  background: rgba(var(--chrome-rgb), .10);
  border-color: rgba(var(--chrome-rgb), .14);
  box-shadow: 0 1px 6px rgba(0,0,0,.08);
}

.webOmniIcon {
  width: 14px;
  height: 14px;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  opacity: .6;
}
.webOmniIcon svg {
  width: 14px;
  height: 14px;
  display: block;
}

/* CHROMIUM_PARITY: Wrapper for input + ghost text overlay */
.webOmniInputWrap {
  flex: 1;
  min-width: 0;
  position: relative;
}
.webUrlDisplay {
  width: 100%;
  min-width: 0;
  border: none;
  outline: none;
  background: transparent;
  color: inherit;
  font-size: 13px;
  padding: 0;
  position: relative;
  z-index: 1;
}
.webUrlDisplay::placeholder {
  color: var(--muted, rgba(var(--chrome-rgb), .45));
}
/* CHROMIUM_PARITY: Ghost text autocomplete overlay */
.webOmniGhost {
  position: absolute;
  left: 0;
  top: 0;
  height: 100%;
  display: flex;
  align-items: center;
  pointer-events: none;
  font-size: 13px;
  white-space: nowrap;
  overflow: hidden;
  z-index: 0;
}
.webOmniGhost .ghost-spacer {
  visibility: hidden;
  white-space: pre;
}
.webOmniGhost .ghost-completion {
  color: rgba(var(--chrome-rgb), .3);
}

/* Search engine select — inside the omnibox, compact */
.webSearchEngineSelect {
  height: 24px;
  border-radius: 6px;
  border: 1px solid rgba(var(--chrome-rgb), .10);
  background: rgba(var(--chrome-rgb), .06);
  color: inherit;
  padding: 0 6px;
  font-size: 11px;
  max-width: 100px;
  flex-shrink: 0;
  cursor: pointer;
}
.webSearchEngineSelect:focus {
  outline: none;
  border-color: rgba(var(--chrome-rgb), .22);
}

.webOmniSuggest {
  position: absolute;
  top: calc(100% + 6px);
  left: 0;
  right: 0;
  max-height: 280px;
  overflow: auto;
  border-radius: 12px;
  border: 1px solid rgba(var(--chrome-rgb), .12);
  background: var(--bg, rgba(10,12,20,.92));
  box-shadow: 0 10px 24px rgba(0,0,0,.34);
  z-index: 40;
}
.webOmniSuggest.hidden {
  display: none !important;
}
.webOmniSuggestItem {
  display: flex;
  align-items: center;
  gap: 8px;
  width: 100%;
  border: none;
  background: transparent;
  color: inherit;
  text-align: left;
  cursor: pointer;
  padding: 8px 10px;
}
.webOmniSuggestItem:hover,
.webOmniSuggestItem.active {
  background: rgba(var(--chrome-rgb), .10);
}
.webOmniSuggestMain {
  flex: 1;
  min-width: 0;
  font-size: 12px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.webOmniSuggestSub {
  font-size: 11px;
  opacity: .65;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Action buttons in nav bar (bookmark, find, downloads) */
.webNavAction {
  width: 28px;
  height: 28px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  border: none;
  background: transparent;
  color: inherit;
  cursor: pointer;
  padding: 0;
  flex-shrink: 0;
  position: relative;
  transition: background .12s;
}
.webNavAction svg {
  width: 16px;
  height: 16px;
  display: block;
}
.webNavAction:hover {
  background: rgba(var(--chrome-rgb), .08);
}
.webNavAction:active {
  background: rgba(var(--chrome-rgb), .14);
}

/* Bookmark active state */
.webNavAction.active svg,
.webBookmarkBtn.active svg {
  fill: var(--vx-accent, currentColor);
  stroke: var(--vx-accent, currentColor);
}

/* Download badge (dot indicator) */
.webDlBadge {
  position: absolute;
  top: 4px;
  right: 4px;
  width: 7px;
  height: 7px;
  border-radius: 999px;
  background: var(--vx-accent, rgba(var(--chrome-rgb), .85));
  box-shadow: 0 0 0 2px var(--bg, #1a1a2e);
}
.webDlBadge.hidden {
  display: none;
}

/* Download pill (inline status) */
.webDlPill {
  padding: 3px 10px;
  border-radius: 999px;
  border: 1px solid rgba(var(--chrome-rgb), .14);
  background: rgba(var(--chrome-rgb), .06);
  color: var(--muted, inherit);
  font-size: 11px;
  line-height: 1;
  white-space: nowrap;
  flex-shrink: 0;
}
.webDlPill.hidden {
  display: none;
}


/* ══════════════════════════════════════════
   Load bar (thin accent line)
   ══════════════════════════════════════════ */

.webLoadBar {
  height: 2px;
  width: 100%;
  background: rgba(var(--chrome-rgb), .08);
  position: relative;
  overflow: hidden;
  flex-shrink: 0;
}
.webLoadBar.hidden {
  display: none !important;
}
.webLoadBar::before {
  content: "";
  position: absolute;
  top: 0;
  left: -40%;
  height: 100%;
  width: 40%;
  background: var(--vx-accent, rgba(var(--chrome-rgb), .55));
  animation: webLoadBarSweep 900ms linear infinite;
}
@keyframes webLoadBarSweep {
  0% { left: -40%; }
  100% { left: 110%; }
}


/* ══════════════════════════════════════════
   Find bar (floating top-right over content)
   ══════════════════════════════════════════ */

.webFindBar {
  position: absolute;
  top: 0;
  right: 16px;
  z-index: 35;
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 6px 10px;
  border-radius: 0 0 8px 8px;
  background: var(--bg, #1a1a2e);
  border: 1px solid rgba(var(--chrome-rgb), .12);
  border-top: none;
  box-shadow: 0 4px 12px rgba(0,0,0,.20);
}
.webFindBar.hidden {
  display: none !important;
}

.webFindInput {
  min-width: 0;
  flex: 1;
  max-width: 220px;
}

.webFindCount {
  min-width: 48px;
  text-align: right;
  font-size: 11px;
  opacity: .65;
  white-space: nowrap;
}


/* ══════════════════════════════════════════
   Content area (home panel + webview)
   ══════════════════════════════════════════ */

.webContentArea {
  flex: 1;
  min-height: 0;
  display: flex;
  flex-direction: column;
  position: relative;
  overflow: hidden;
}

.webViewContainer {
  flex: 1;
  position: relative;
  min-height: 0;
  overflow: hidden;
}

.webTabWebview {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  border: 0;
  background: var(--bg, #101014);
}
.webTabWebview.hidden {
  display: none;
}

/* Split view */
.webViewContainer.webSplitActive {
  display: flex;
  flex-direction: row;
}
.webSplitPane {
  position: relative;
  overflow: hidden;
  min-width: 80px;
}
.webSplitDivider {
  width: 4px;
  flex-shrink: 0;
  background: rgba(var(--chrome-rgb), .10);
  cursor: col-resize;
  transition: background .12s;
}
.webSplitDivider:hover {
  background: rgba(var(--chrome-rgb), .25);
}


/* ══════════════════════════════════════════
   Browser home panel (speed dial)
   ══════════════════════════════════════════ */

.webBrowserHomePanel {
  flex: 1;
  min-height: 0;
  overflow: auto;
  padding: 20px;
  background: transparent;
}
.webBrowserHomePanel.hidden {
  display: none !important;
}

.webBrowserHomeHead {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  margin-bottom: 16px;
}

.webBrowserHomeTitle {
  font-weight: 700;
  font-size: 14px;
  letter-spacing: 0.2px;
}

.webBrowserHomeGrid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
  gap: 12px;
}

.webBrowserHomeCard {
  border-radius: 12px;
  border: 1px solid rgba(var(--chrome-rgb), .10);
  background: rgba(var(--chrome-rgb), .04);
  padding: 14px;
  cursor: pointer;
  display: flex;
  flex-direction: column;
  gap: 8px;
  transition: background .12s, border-color .12s, transform .08s;
}
.webBrowserHomeCard:hover {
  background: rgba(var(--chrome-rgb), .08);
  border-color: rgba(var(--chrome-rgb), .14);
  transform: translateY(-1px);
}

.webBrowserHomeCardIcon {
  width: 40px;
  height: 40px;
  border-radius: 10px;
  background: rgba(var(--chrome-rgb), .08);
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
}
.webBrowserHomeCardIcon img {
  width: 28px;
  height: 28px;
  object-fit: contain;
}

.webBrowserHomeCardTitle {
  font-size: 13px;
  font-weight: 600;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.webBrowserHomeCardUrl {
  font-size: 11px;
  opacity: 0.6;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Library home view scrolling */
#webLibraryView .libContent {
  overflow: hidden;
}
#webHomeView {
  overflow-y: auto;
  overflow-x: hidden;
}


/* ══════════════════════════════════════════
   Source grid card thumbnails
   ══════════════════════════════════════════ */

.webSourceThumb {
  display: flex;
  align-items: center;
  justify-content: center;
}

.webSourceFavicon {
  width: 64px;
  height: 64px;
  object-fit: contain;
  image-rendering: auto;
}

.webSourceInitial {
  font-size: 48px;
  font-weight: 700;
  color: rgba(var(--chrome-rgb), .80);
  text-transform: uppercase;
  user-select: none;
  pointer-events: none;
  line-height: 1;
}

/* Suppress stacked-plate pseudo-elements on web source cards */
#webSourcesGrid .seriesCoverWrap::before,
#webSourcesGrid .seriesCoverWrap::after {
  display: none;
}

.webSourceCard {
  --web-src-color: #7a7a7a;
}
.webSourceCard:hover .webSourceThumb {
  box-shadow: 0 0 0 2px var(--web-src-color), 0 0 18px rgba(0,0,0,.35);
}
.webSourceCard:focus-visible .webSourceThumb {
  box-shadow: 0 0 0 2px var(--web-src-color), 0 0 18px rgba(0,0,0,.35);
  outline: none;
}


/* ══════════════════════════════════════════
   Continue row tiles (open tabs)
   ══════════════════════════════════════════ */

.webContCover {
  display: flex;
  align-items: center;
  justify-content: center;
}

.webContFavicon {
  width: 48px;
  height: 48px;
  object-fit: contain;
  image-rendering: auto;
}

.webContInitial {
  font-size: 36px;
  font-weight: 700;
  color: rgba(var(--chrome-rgb), .80);
  text-transform: uppercase;
  user-select: none;
  pointer-events: none;
  line-height: 1;
}


/* ══════════════════════════════════════════
   Sidebar source items
   ══════════════════════════════════════════ */

.webSourceItem {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 4px 8px;
  cursor: pointer;
  border-radius: 4px;
  font-size: 13px;
}
.webSourceItem:hover {
  background: rgba(var(--chrome-rgb), .06);
}
.webSourceItem.active {
  background: rgba(var(--chrome-rgb), .08);
  font-weight: 600;
}

.webSourceDot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  flex-shrink: 0;
}

.webSourceName {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* Download destination info */
.webDestPath {
  font-family: monospace;
  font-size: 11px;
  word-break: break-all;
}


/* ══════════════════════════════════════════
   Sidebar download progress
   ══════════════════════════════════════════ */

.webSidebarDlRow {
  margin-top: 8px;
  display: flex;
  align-items: center;
  gap: 8px;
}
.webSidebarDlProgress {
  flex: 1;
  height: 4px;
  border-radius: 999px;
  background: rgba(var(--chrome-rgb), .10);
  overflow: hidden;
}
.webSidebarDlProgressFill {
  height: 100%;
  width: 0%;
  background: var(--vx-accent, rgba(var(--chrome-rgb), .55));
  transition: width .15s linear;
}
.webSidebarDlPct {
  width: 40px;
  text-align: right;
  font-size: 11px;
  opacity: .85;
}

#webSourcesEmpty, #webContinueEmpty {
  padding: 14px 12px;
  border-radius: 14px;
  border: 1px dashed rgba(var(--chrome-rgb), .14);
  background: rgba(var(--chrome-rgb), .03);
}


/* ══════════════════════════════════════════
   Downloads panel (floating dropdown)
   ══════════════════════════════════════════ */

.webDlPanel {
  position: absolute;
  right: 12px;
  top: 82px;
  width: 360px;
  max-width: calc(100vw - 24px);
  max-height: 52vh;
  display: flex;
  flex-direction: column;
  border-radius: 12px;
  border: 1px solid rgba(var(--chrome-rgb), .12);
  background: var(--bg, rgba(10,12,20,.92));
  backdrop-filter: blur(12px) saturate(130%);
  -webkit-backdrop-filter: blur(12px) saturate(130%);
  box-shadow: 0 10px 30px rgba(0,0,0,.35);
  z-index: 30;
}
.webDlPanel.hidden {
  display: none !important;
}

.webDlPanelTop {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 10px 12px;
  border-bottom: 1px solid rgba(var(--chrome-rgb), .08);
}

.webDlPanelTitle {
  font-size: 13px;
  font-weight: 600;
}

.webDlList {
  overflow: auto;
  padding: 6px;
}

.webDlEmpty {
  padding: 10px 12px 14px;
}


/* ══════════════════════════════════════════
   Download items (shared by panel + home)
   ══════════════════════════════════════════ */

.webDlItem {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 8px 10px;
  border-radius: 10px;
  background: rgba(var(--chrome-rgb), .04);
  border: 1px solid rgba(var(--chrome-rgb), .06);
  transition: background .12s, border-color .12s, transform .06s;
}
.webDlItem + .webDlItem {
  margin-top: 4px;
}
.webDlItem:hover {
  background: rgba(var(--chrome-rgb), .08);
  border-color: rgba(var(--chrome-rgb), .10);
}
.webDlItem:active {
  transform: translateY(1px);
}
.webDlItem--compact {
  padding: 6px 10px;
}

.webDlIcon {
  width: 22px;
  height: 22px;
  border-radius: 6px;
  flex-shrink: 0;
  overflow: hidden;
  background: rgba(var(--chrome-rgb), .08);
  display: flex;
  align-items: center;
  justify-content: center;
}
.webDlFavicon {
  width: 16px;
  height: 16px;
  border-radius: 3px;
  display: block;
  image-rendering: auto;
}
.webDlFaviconFallback {
  width: 10px;
  height: 10px;
  border-radius: 999px;
  background: rgba(var(--chrome-rgb), .22);
}

.webDlSvg {
  display: inline-flex;
  align-items: center;
  justify-content: center;
}
.webDlSvg svg {
  width: 16px;
  height: 16px;
  fill: currentColor;
  display: block;
}

.webDlMeta {
  min-width: 0;
  flex: 1;
}
.webDlName {
  font-size: 13px;
  line-height: 1.2;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.webDlSub {
  margin-top: 3px;
  font-size: 11px;
  opacity: .65;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.webDlProgressWrap {
  margin-top: 6px;
  display: flex;
  align-items: center;
  gap: 10px;
}
.webDlProgressBar {
  height: 4px;
  flex: 1;
  background: rgba(var(--chrome-rgb), .10);
  border-radius: 999px;
  overflow: hidden;
}
.webDlProgressFill {
  height: 100%;
  width: 0%;
  background: var(--vx-accent, rgba(var(--chrome-rgb), .55));
  transition: width .15s linear;
}
.webDlProgressText {
  font-size: 11px;
  opacity: .75;
  min-width: 34px;
  text-align: right;
}

.webDlRight {
  display: flex;
  align-items: center;
  gap: 6px;
  flex-shrink: 0;
}
.webDlState {
  font-size: 11px;
  opacity: .65;
}
.webDlState--bad {
  opacity: .90;
}

.webDlActions {
  display: flex;
  align-items: center;
  gap: 4px;
  opacity: 0;
  transition: opacity 120ms ease;
}
.webDlItem:hover .webDlActions {
  opacity: 1;
}

.webDlAction,
.webDlRemove {
  width: 26px;
  height: 26px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: 6px;
  border: 1px solid rgba(var(--chrome-rgb), .08);
  background: rgba(var(--chrome-rgb), .04);
  color: inherit;
  cursor: pointer;
  padding: 0;
  transition: background .12s;
}
.webDlAction:hover,
.webDlRemove:hover {
  background: rgba(var(--chrome-rgb), .10);
  border-color: rgba(var(--chrome-rgb), .14);
}
.webDlAction:active {
  transform: translateY(1px);
}

/* Home downloads panel */
.webHomeDownloadsPanel {
  margin-top: 14px;
}
.webHomeDownloadsList {
  display: flex;
  flex-direction: column;
  gap: 4px;
}


/* ══════════════════════════════════════════
   Download bar (Chrome-style bottom shelf)
   ══════════════════════════════════════════ */

.webDlBar {
  flex-shrink: 0;
  width: 100%;
  background: var(--bg, rgba(20,20,36,.94));
  border-top: 1px solid rgba(var(--chrome-rgb), .08);
  z-index: 25;
}
.webDlBar.hidden {
  display: none !important;
}
.webDlBarInner {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 6px 14px;
  min-height: 36px;
}
.webDlBarIcon {
  flex-shrink: 0;
  width: 14px;
  height: 14px;
  opacity: .6;
}
.webDlBarIcon svg {
  width: 14px;
  height: 14px;
  display: block;
}
.webDlBarText {
  flex: 1;
  min-width: 0;
  font-size: 12px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  opacity: .85;
}
.webDlBarProgress {
  width: 120px;
  height: 3px;
  border-radius: 999px;
  background: rgba(var(--chrome-rgb), .10);
  overflow: hidden;
  flex-shrink: 0;
}
.webDlBarProgress.hidden {
  display: none;
}
.webDlBarProgressFill {
  height: 100%;
  width: 0%;
  background: var(--vx-accent, rgba(var(--chrome-rgb), .55));
  border-radius: 999px;
  transition: width .15s linear;
}
.webDlBarClose {
  width: 24px;
  height: 24px;
  border-radius: 50%;
  border: none;
  background: transparent;
  color: inherit;
  font-size: 16px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  opacity: .5;
  transition: opacity .12s, background .12s;
}
.webDlBarClose:hover {
  opacity: 1;
  background: rgba(var(--chrome-rgb), .10);
}


/* ══════════════════════════════════════════
   Toast + context menu (shared helpers)
   ══════════════════════════════════════════ */

#webToast.videoToast {
  position: fixed;
  top: 16px;
  right: 16px;
  z-index: 220;
  pointer-events: none;
}


/* ══════════════════════════════════════════
   Hub panel checklist (privacy/data section)
   ══════════════════════════════════════════ */

.webHubChecklist {
  display: flex;
  flex-direction: column;
  gap: 6px;
  font-size: 12px;
}
.webHubChecklist label {
  display: flex;
  align-items: center;
  gap: 8px;
}


/* ══════════════════════════════════════════
   Torrent tab panel
   ══════════════════════════════════════════ */

.webTorrentPanel {
  flex: 1;
  min-height: 0;
  overflow: auto;
  padding: 24px;
  background: transparent;
}
.webTorrentPanel.hidden {
  display: none !important;
}
.webTorrentPanelInner {
  max-width: 800px;
  margin: 0 auto;
}

/* Resolving state */
.wtResolving {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 14px;
  padding: 80px 20px;
  color: rgba(var(--chrome-rgb), .45);
  font-size: 13px;
}
.wtResolvingSpinner {
  width: 32px;
  height: 32px;
  border: 3px solid rgba(var(--chrome-rgb), .10);
  border-top-color: var(--vx-accent, rgba(var(--chrome-rgb), .55));
  border-radius: 50%;
  animation: wtSpin .8s linear infinite;
}
@keyframes wtSpin { to { transform: rotate(360deg); } }
.wtResolvingHash {
  font-family: monospace;
  font-size: 11px;
  opacity: .5;
  word-break: break-all;
  max-width: 400px;
  text-align: center;
}

/* Header */
.wtHeader {
  margin-bottom: 16px;
}
.wtName {
  font-size: 16px;
  font-weight: 600;
  color: rgba(var(--chrome-rgb), .85);
  word-break: break-word;
  margin-bottom: 6px;
}
.wtMeta {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  font-size: 12px;
  color: rgba(var(--chrome-rgb), .45);
}
.wtMeta span {
  white-space: nowrap;
}

/* Overall progress bar */
.wtProgressWrap {
  height: 6px;
  border-radius: 3px;
  background: rgba(var(--chrome-rgb), .08);
  overflow: hidden;
  margin-bottom: 16px;
}
.wtProgressFill {
  height: 100%;
  border-radius: 3px;
  background: var(--vx-accent, rgba(var(--chrome-rgb), .55));
  transition: width .4s ease;
}

/* File tree container */
.wtFileTree {
  border: 1px solid rgba(var(--chrome-rgb), .08);
  border-radius: 12px;
  background: rgba(var(--chrome-rgb), .03);
  overflow: hidden;
  margin-bottom: 16px;
}

/* Folder row */
.wtFolderRow {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 12px;
  font-size: 12px;
  font-weight: 600;
  color: rgba(var(--chrome-rgb), .65);
  cursor: pointer;
  user-select: none;
  border-bottom: 1px solid rgba(var(--chrome-rgb), .05);
}
.wtFolderRow:hover {
  background: rgba(var(--chrome-rgb), .04);
}
.wtFolderChevron {
  width: 14px;
  height: 14px;
  flex-shrink: 0;
  transition: transform .15s;
  color: rgba(var(--chrome-rgb), .35);
}
.wtFolderRow.collapsed .wtFolderChevron {
  transform: rotate(-90deg);
}
.wtFolderRow.collapsed ~ .wtFileRow {
  display: none;
}

/* File row */
.wtFileRow {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 7px 12px;
  font-size: 12px;
  color: rgba(var(--chrome-rgb), .7);
  border-bottom: 1px solid rgba(var(--chrome-rgb), .04);
}
.wtFileRow:last-child {
  border-bottom: none;
}
.wtFileRow:hover {
  background: rgba(var(--chrome-rgb), .03);
}
.wtFileCheck {
  flex-shrink: 0;
  accent-color: var(--vx-accent, rgba(var(--chrome-rgb), .55));
}
.wtFileName {
  flex: 1;
  min-width: 0;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}
.wtFileSize {
  flex-shrink: 0;
  color: rgba(var(--chrome-rgb), .35);
  font-size: 11px;
  min-width: 60px;
  text-align: right;
}

/* Per-file progress */
.wtFileProgress {
  flex-shrink: 0;
  width: 80px;
  height: 4px;
  border-radius: 2px;
  background: rgba(var(--chrome-rgb), .08);
  overflow: hidden;
}
.wtFileProgressFill {
  height: 100%;
  border-radius: 2px;
  background: var(--vx-accent, rgba(var(--chrome-rgb), .55));
  transition: width .4s ease;
}

/* Destination section */
.wtDestSection {
  margin-bottom: 16px;
  border: 1px solid rgba(var(--chrome-rgb), .08);
  border-radius: 12px;
  background: rgba(var(--chrome-rgb), .03);
  padding: 14px;
}
.wtDestLabel {
  font-size: 12px;
  font-weight: 600;
  color: rgba(var(--chrome-rgb), .55);
  margin-bottom: 10px;
}
.wtDestModes {
  display: flex;
  gap: 6px;
  margin-bottom: 10px;
}
.wtDestModeBtn {
  padding: 4px 12px;
  border-radius: 6px;
  border: 1px solid rgba(var(--chrome-rgb), .10);
  background: transparent;
  color: rgba(var(--chrome-rgb), .55);
  font-size: 12px;
  cursor: pointer;
  transition: background .12s, border-color .12s;
}
.wtDestModeBtn:hover {
  background: rgba(var(--chrome-rgb), .06);
}
.wtDestModeBtn.active {
  background: var(--vx-accent, rgba(var(--chrome-rgb), .55));
  color: #fff;
  border-color: transparent;
}
/* Save path row — qBittorrent-style */
.wtSavePath {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 10px;
}
.wtSavePathText {
  flex: 1;
  min-width: 0;
  padding: 6px 10px;
  border-radius: 6px;
  background: rgba(var(--chrome-rgb), .04);
  color: rgba(var(--chrome-rgb), .55);
  font-size: 11px;
  font-family: monospace;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* Sequential download toggle */
.wtSequential {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 12px;
  color: rgba(var(--chrome-rgb), .55);
  margin-bottom: 12px;
}

/* Actions */
.wtActions {
  display: flex;
  gap: 8px;
  margin-top: 16px;
}
.wtBtn {
  padding: 8px 20px;
  border-radius: 8px;
  border: 1px solid rgba(var(--chrome-rgb), .10);
  background: transparent;
  color: rgba(var(--chrome-rgb), .7);
  font-size: 13px;
  cursor: pointer;
  transition: background .12s, border-color .12s;
}
.wtBtn:hover {
  background: rgba(var(--chrome-rgb), .06);
}
.wtBtn.primary {
  background: var(--vx-accent, rgba(var(--chrome-rgb), .55));
  color: #fff;
  border-color: transparent;
}
.wtBtn.primary:hover {
  filter: brightness(1.1);
}
.wtBtn:disabled {
  opacity: .4;
  cursor: default;
}

/* Video library button & badge */
.wtBtn.videoLib {
  background: #7c4dff;
  color: #fff;
  border-color: transparent;
}
.wtBtn.videoLib:hover {
  filter: brightness(1.15);
}
.wtVideoLibBadge {
  display: inline-block;
  padding: 4px 12px;
  border-radius: 6px;
  font-size: 12px;
  font-weight: 500;
  background: rgba(124, 77, 255, .15);
  color: #b388ff;
  margin: 8px 0 4px;
}
.wtVideoLibBadge.complete {
  background: rgba(76, 175, 80, .15);
  color: #81c784;
}

/* Completed state */
.wtCompleteIcon {
  color: #4caf50;
  font-size: 18px;
  margin-right: 6px;
}
.wtCompleteStats {
  display: flex;
  gap: 14px;
  font-size: 12px;
  color: rgba(var(--chrome-rgb), .45);
  margin-bottom: 12px;
}

/* ============================
   FEAT-TOR: Tor proxy button
   ============================ */
#webTorBtn.tor-connecting {
  color: #f5a623;
  animation: tor-pulse 1.2s ease-in-out infinite;
}
#webTorBtn.tor-active {
  color: #7b68ee;
  background: rgba(123, 104, 238, 0.15);
  border-radius: 4px;
}
@keyframes tor-pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.35; }
}
/* Persistent indicator bar when Tor is active */
.webLoadBar.tor-indicator {
  background: #7b68ee;
  height: 2px;
  opacity: 1;
}
